# 指令格式

## 基本格式

操作码+地址码

### 操作码

指出指令执行什么操作

提供区分地址码组成信息

### 地址码

被操作的数的地址

#### 寄存器的地址

寄存器的地址是ID编码，ID编码的位数取决于寄存器总个数。

### 指令字长

指令字长 由操作码 地址码 地址码个数确定

指令长度等于机器字长的指令称为单字长指令

还有 半字长指令 双字长指令

## 按地址数分类

零地址指令

一地址指令

​	可能有两个操作数（隐含一个）

二地址指令

三地址指令

四地址指令

## 定长操作码

操作码的位数固定

### 优缺点

​	简化硬件设计，识别速度快。

## 拓展操作码

操作码的位数不固定，使得在指令字长有限的情况下，保持比较丰富的指令种类。

>指令字长不变的情况下
>
>拓展操作码中地址码越少，操作码位数越多，可以表示的就越多

### 优缺点

​	增加了指令译码和分析的难度。

### 拓展操作码设计例子

​	设指令字长为16位，设计有零地址到三地址的指令系统。

三地址

​	地址码占12位

​	操作码剩余4位

​		0000-1110 是15个不同的操作码

​		1111 用来表示，该指令不是三地址

二地址

​	地址码占8位

​	操作码占8位

​		高4位 为1111

​		低4位 0000-1110 是15个不同的操作码

​			1111 用来表示，改指令不是二地址

一地址

​	操作码占 12位

​	高8位 为 1111 1111

​	低4位 0000-1110 是15个不同的操作码

​		1111 用来表示，改指令不是二地址

零地址

​	操作码占16位

​	高12位 为 1111 1111 1111

​	低4位 0000-1111 是16个不同的操作码

### 设计拓展操作码

#### 设计原则

​	不允许短码是长码的前缀

​	各指令的操作码不能重复

​	使用频率高的指令，分配较短的操作码

## 问题

## 设计例子中，如何让二地址指令有12条，一地址指令有63条？

二地址指令 操作码为 1111 xxxx

​	让xxxx为11xx的时候表示三地址指令

​	所以 二地址指令总共有 0000-1011 有12种

一地址指令 

​	操作码为 1111 11xx xxxx

​	全为1的时候表示零地址指令

​	所以有 00 0000 - 11 1110 为63种

>地址数多的指令，可以分自己的位数给地址数低的指令

### 二地址指令每少一条指令，一地址指令多多少种？

二地址少a种，原先一地址有k种。

​	则现在一地址有 ak种	

## 指令系统是计算机软、硬件的界面？

